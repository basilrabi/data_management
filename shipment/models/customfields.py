from django.db import models
from re import sub

class NameField(models.CharField):
    """
    https://stackoverflow.com/questions/36330677/
    django-model-set-default-charfield-in-lowercase
    """
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

    def get_prep_value(self, value):
        return sub(r'\s+', ' ', str(value).upper().strip())
